<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>üéÆ MiniGamesHub</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="/css/base/variables.css">
        <link rel="stylesheet" href="/css/base/reset.css">
        <link rel="stylesheet" href="/css/base/typography.css">
        <link rel="stylesheet" href="/css/components/loading.css">
        <link rel="stylesheet" href="/css/components/navigation.css">
        <link rel="stylesheet" href="/css/components/buttons.css">
        <link rel="stylesheet" href="/css/components/forms.css">
        <link rel="stylesheet" href="/css/components/modals.css">
        <link rel="stylesheet" href="/css/components/chat.css">
        <link rel="stylesheet" href="/css/layouts/views.css">
        <link rel="stylesheet" href="/css/layouts/auth.css">
        <link rel="stylesheet" href="/css/layouts/lobby.css">
        <link rel="stylesheet" href="/css/layouts/game.css">
        <link rel="stylesheet" href="/css/layouts/scoreboard.css">
        <link rel="stylesheet" href="/css/layouts/profile.css">
        <link rel="stylesheet" href="/css/utilities/animations.css">
        <link rel="stylesheet" href="/css/utilities/responsive.css">
        <link rel="stylesheet" href="/css/games/battleship.css">
        <link rel="stylesheet" href="/css/games/tmm.css">
        <link rel="stylesheet" href="/css/games/memory.css">
    </head>
<body>
    <div id="loading-screen" class="loading-screen">
    </div>
    <div id="nav-container" class="nav-container">
        <button id="mobile-menu-toggle" class="mobile-menu-toggle" aria-label="Toggle menu">
            <span></span>
            <span></span>
            <span></span>
        </button>
        <div id="mobile-nav-drawer" class="mobile-nav-drawer">
            <div class="mobile-nav-drawer-overlay"></div>
            <div class="mobile-nav-drawer-content">
                <div class="mobile-nav-drawer-header">
                    <h2>Menu</h2>
                    <button id="mobile-menu-close" class="mobile-menu-close" aria-label="Close menu">√ó</button>
                </div>
                <div class="mobile-nav-drawer-body">
                    <button id="mobile-lobby-nav-btn" class="mobile-nav-btn">Lobby</button>
                    <button id="mobile-rooms-nav-btn" class="mobile-nav-btn">Active Rooms</button>
                    <button id="mobile-leaderboard-nav-btn" class="mobile-nav-btn">Leaderboard</button>
                    <button id="mobile-tournaments-nav-btn" class="mobile-nav-btn" disabled>Tournaments</button>
                </div>
            </div>
        </div>
        <div class="nav-left">
            <button id="lobby-nav-btn" class="nav-btn">Lobby</button>
            <button id="rooms-nav-btn" class="nav-btn">Active Rooms</button>
            <button id="leaderboard-nav-btn" class="nav-btn">Leaderboard</button>
            <button id="tournaments-nav-btn" class="nav-btn" disabled>Tournaments</button>
        </div>
        <div class="nav-right">
            <div class="notifications-container">
                <button id="notifications-btn" class="notifications-btn" aria-label="Notifications">
                    <span class="notifications-icon">üîî</span>
                    <span id="notifications-badge" class="notifications-badge hidden">0</span>
                </button>
                <div id="notifications-dropdown" class="notifications-dropdown hidden">
                    <div class="notifications-header">
                        <h3>üì© Invitations</h3>
                    </div>
                    <div id="notifications-list" class="notifications-list">
                        <div class="notification-empty">No pending invitations</div>
                    </div>
                </div>
            </div>
            <div class="user-menu-container">
                <button id="user-avatar-btn" class="user-avatar-btn" aria-label="User menu">
                    <span id="user-avatar-display" class="user-avatar-display">üë§</span>
                    <span id="user-username-display" class="user-username-display"></span>
                    <span id="user-role-badge" class="user-role-badge hidden"></span>
                </button>
                <div id="user-menu-dropdown" class="user-menu-dropdown hidden">
                    <button id="profile-nav-btn" class="user-menu-item">
                        <span>üë§</span> Profile
                    </button>
                    <button id="admin-reports-btn" class="user-menu-item hidden">
                        <span>üìä</span> Admin Reports
                    </button>
                    <button id="logout-btn" class="user-menu-item">
                        <span class="logout-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                                <polyline points="16 17 21 12 16 7"></polyline>
                                <line x1="21" y1="12" x2="9" y2="12"></line>
                            </svg>
                        </span> Logout
                    </button>
                </div>
            </div>
        </div>
    </div>
    <button id="room-info-btn" class="room-info-btn hidden" aria-label="Room information">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="16" x2="12" y2="12"></line>
            <line x1="12" y1="8" x2="12.01" y2="8"></line>
        </svg>
    </button>
    <div id="room-info-modal" class="room-info-modal hidden">
        <div class="room-info-modal-overlay"></div>
        <div class="room-info-modal-content">
            <div class="room-info-modal-header">
                <h2>Room Information</h2>
                <button id="room-info-modal-close" class="room-info-modal-close" aria-label="Close">√ó</button>
            </div>
            <div class="room-info-modal-body">
                <div class="room-info-item">
                    <strong>Room Name:</strong>
                    <span id="room-info-modal-name">-</span>
                </div>
                <div class="room-info-item">
                    <strong>Players:</strong>
                    <span id="room-info-modal-players">-</span>
                </div>
                <div class="room-info-item">
                    <strong>Spectators:</strong>
                    <span id="room-info-modal-spectators">0</span>
                </div>
            </div>
        </div>
    </div>
    <div id="auth-container" class="view">
        <div class="auth-card">
                <h1>Welcome</h1>
                <div class="auth-tabs">
                    <button type="button" class="auth-tab active" data-auth-target="login">Login</button>
                    <button type="button" class="auth-tab" data-auth-target="register">Register</button>
                </div>
                <form id="login-form" class="auth-form">
                    <label for="login-username">Username</label>
                    <input type="text" id="login-username" name="username" placeholder="Your username" required autocomplete="off">
                    <label for="login-password">Password</label>
                    <div class="password-input-wrapper">
                        <input type="password" id="login-password" name="password" placeholder="Your password" required autocomplete="off">
                        <button type="button" class="show-password-btn" aria-label="Show password" tabindex="-1">
                            <svg class="show-password-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                        </button>
                    </div>
                    <button type="submit">Login</button>
                </form>
                <form id="register-form" class="auth-form hidden">
                    <label for="register-username">Username</label>
                    <input type="text" id="register-username" name="username" placeholder="Choose a username" required autocomplete="off">
                    <label for="register-email">Email</label>
                    <input type="email" id="register-email" name="email" placeholder="Enter your email" required autocomplete="email">
                    <label for="register-password" class="label-with-info">
                        Password
                        <span class="info-icon" id="password-info-icon" tabindex="0" aria-label="Password requirements">
                            <span class="info-icon-text">?</span>
                            <div class="info-tooltip" id="password-requirements-tooltip">
                                <div class="tooltip-content">
                                    <strong>Password Requirements:</strong>
                                    <ul>
                                        <li>At least 8 characters long</li>
                                        <li>Contains at least one letter (a-z, A-Z)</li>
                                        <li>Contains at least one number (0-9)</li>
                                        <li>No special characters (! @ # $ % ^ & * ( ) , . ' " ? /)</li>
                                    </ul>
                                </div>
                            </div>
                        </span>
                    </label>
                    <div class="password-input-wrapper">
                        <input type="password" id="register-password" name="password" placeholder="Create a password" required autocomplete="off">
                        <button type="button" class="show-password-btn" aria-label="Show password" tabindex="-1">
                            <svg class="show-password-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                        </button>
                    </div>
                    <div id="register-password-error" class="password-error"></div>
                    <label for="register-confirm-password">Confirm Password</label>
                    <div class="password-input-wrapper">
                        <input type="password" id="register-confirm-password" name="confirmPassword" placeholder="Re-enter password" required autocomplete="off">
                        <button type="button" class="show-password-btn" aria-label="Show password" tabindex="-1">
                            <svg class="show-password-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                        </button>
                    </div>
                    <div id="register-confirm-password-error" class="password-error"></div>
                    <button type="submit">Register</button>
                </form>
                <div class="guest-login-block">
                    <div class="guest-divider">
                        <span>or</span>
                    </div>
                    <button type="button" id="guest-login-btn" class="guest-btn">Play as Guest</button>
                    <p class="guest-hint">Play as a guest. Register to unlock more.</p>
                </div>
                <div id="auth-message" class="auth-message"></div>
            </div>
        </div>
    </div>
    <div id="lobby-container" class="view">
        <div class="container">
            <h1>Game Lobby</h1>
            <div class="lobby-actions">
                <div class="lobby-card-grid" id="lobby-game-grid">
                    <div class="game-card game-card--tic is-active" data-game="three-mens-morris" aria-pressed="true" role="button" tabindex="0">
                        <span class="game-card__icon" aria-hidden="true">‚ö´</span>
                        <div class="game-card__content">
                            <h3 class="game-card__title">Three Men's Morris</h3>
                            <p class="game-card__subtitle">3-piece strategy game.</p>
                            <button type="button" class="game-card__action" data-game="three-mens-morris">Create Room</button>
                        </div>
                    </div>
                    <div class="game-card game-card--battleship" data-game="battleship" aria-pressed="false" role="button" tabindex="0">
                        <span class="game-card__icon" aria-hidden="true">üö¢</span>
                        <div class="game-card__content">
                            <h3 class="game-card__title">Battleship</h3>
                            <p class="game-card__subtitle">Strategic naval warfare.</p>
                            <button type="button" class="game-card__action" data-game="battleship">Create Room</button>
                        </div>
                    </div>
                    <div class="game-card game-card--memory" data-game="memory-match" aria-pressed="false" role="button" tabindex="0">
                        <span class="game-card__icon" aria-hidden="true">üß©</span>
                        <div class="game-card__content">
                            <h3 class="game-card__title">Memory Match</h3>
                            <p class="game-card__subtitle">Flip cards, find pairs.</p>
                            <button type="button" class="game-card__action" data-game="memory-match">Create Room</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="lobby-main-grid">
            </div>
        </div>
    </div>
    <div id="game-container" class="view">
        <div class="game-main-area">
            <div class="info">
                <div class="class-text"></div>
            </div>
            <div id="tmm-stage" class="tmm-stage">
                <div class="tmm-game-container">
                    <div class="tmm-player-info" id="tmm-player-1">
                        <div class="tmm-player-role" id="tmm-player-1-role">X</div>
                        <div class="tmm-player-avatar" id="tmm-player-1-avatar">üë§</div>
                        <div class="tmm-player-name" id="tmm-player-1-name">You</div>
                        <div class="tmm-player-score" id="tmm-player-1-score">0</div>
                    </div>
                    <div class="game-board" id="three-mens-morris-board"></div>
                    <div class="tmm-player-info" id="tmm-player-2">
                        <div class="tmm-player-role" id="tmm-player-2-role">O</div>
                        <div class="tmm-player-avatar" id="tmm-player-2-avatar">üë§</div>
                        <div class="tmm-player-name" id="tmm-player-2-name">Opponent</div>
                        <div class="tmm-player-score" id="tmm-player-2-score">0</div>
                    </div>
                </div>
            </div>
            <div id="battleship-stage" class="battleship-stage hidden">
                <div class="battleship-layout-container">
                    <div class="battleship-main-area">
                        <div class="battleship-game-container">
                            <div class="battleship-player-info" id="battleship-player-1">
                                <div class="battleship-player-role" id="battleship-player-1-role"></div>
                                <div class="battleship-player-avatar" id="battleship-player-1-avatar">üë§</div>
                                <div class="battleship-player-name" id="battleship-player-1-name">You</div>
                            </div>
                            <div class="battleship-boards-container">
                            <div class="battleship-board-section">
                                <h3 class="battleship-board-title" id="battleship-own-board-title">Your Fleet</h3>
                                <div class="battleship-board" id="battleship-own-board"></div>
                            </div>
                            <div class="battleship-board-section">
                                <h3 class="battleship-board-title" id="battleship-opponent-board-title">Opponent's Fleet</h3>
                                <div class="battleship-board" id="battleship-opponent-board"></div>
                            </div>
                            </div>
                            <div class="battleship-player-info" id="battleship-player-2">
                                <div class="battleship-player-role" id="battleship-player-2-role"></div>
                                <div class="battleship-player-avatar" id="battleship-player-2-avatar">üë§</div>
                                <div class="battleship-player-name" id="battleship-player-2-name">Opponent</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="battleship-ships-container hidden" id="battleship-ships-container">
                    <div class="battleship-ships-box" id="battleship-ships-box"></div>
                </div>
                <div class="battleship-controls">
                    <div id="battleship-status" class="battleship-status"></div>
                </div>
            </div>
            <div class="memory-match-message hidden" id="memory-match-message"></div>
            <div id="memory-stage" class="memory-stage hidden">
                <div class="memory-game-container">
                    <div class="memory-player-info" id="memory-player-1">
                        <div class="memory-player-avatar" id="memory-player-1-avatar">üë§</div>
                        <div class="memory-player-name" id="memory-player-1-name">You</div>
                        <div class="memory-player-score" id="memory-player-1-score">0</div>
                    </div>
                    <div class="memory-grid" id="memory-grid"></div>
                    <div class="memory-player-info" id="memory-player-2">
                        <div class="memory-player-avatar" id="memory-player-2-avatar">üë§</div>
                        <div class="memory-player-name" id="memory-player-2-name">Opponent</div>
                        <div class="memory-player-score" id="memory-player-2-score">0</div>
                    </div>
                </div>
                <div id="memory-status" class="memory-status" style="display: none;">Flip two cards to find a match.</div>
            </div>
            <div class="game-action-buttons">
                <button id="rematch-btn" class="rematch-btn hidden">Rematch</button>
                <button id="leave-room-btn" class="leave-room-btn">Leave Game</button>
            </div>
        </div>
        <button id="game-info-btn" class="game-info-btn">Game Info</button>
        <div id="game-info-modal" class="game-info-modal hidden">
            <div class="game-info-card" id="game-info-card">
                <h2 id="game-info-title"></h2>
                <div id="game-info-content"></div>
            </div>
        </div>
    </div>
    <div id="rooms-container" class="view">
        <div class="container">
            <h1>Active Rooms</h1>
            <div id="rooms-list" class="rooms-list"></div>
        </div>
    </div>
    <div id="leaderboard-container" class="view">
        <div class="container">
            <h1>üèÜ Leaderboard</h1>
            <div id="scoreboard-list" class="scoreboard-list"></div>
        </div>
    </div>
    <div id="room-name-modal" class="modal hidden">
        <div class="modal-content">
            <h2>Create Room</h2>
            <div class="modal-form">
                <label for="modal-room-name-input">Room name (optional)</label>
                <input type="text" id="modal-room-name-input" placeholder="Room name (optional)" autocomplete="off">
                <div class="modal-buttons">
                    <button type="button" id="modal-create-btn" class="modal-btn-primary">Create</button>
                    <button type="button" id="modal-cancel-btn" class="modal-btn-secondary">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    <div id="online-players-widget" class="fixed-widget">
        <button id="online-players-toggle" class="widget-toggle-btn">
            Online Players
        </button>
            <div id="online-players-popup" class="widget-popup hidden">
                <div class="widget-popup-header">
                    <h3>Online Players</h3>
                </div>
                <div id="online-players-list" class="users-list widget-content"></div>
            </div>
    </div>
    <div id="lobby-chat-drawer" class="chat-drawer">
        <div id="lobby-chat-drawer-content" class="chat-drawer-content">
            <div id="lobby-chat-tab" class="chat-drawer-tab">
                <span class="chat-icon">üí¨</span>
                <span>Lobby Chat</span>
            </div>
            <div class="chat-drawer-header">
                <h3>Lobby Chat</h3>
            </div>
            <div id="lobby-chat-list" class="chat-list chat-drawer-list"></div>
            <form id="lobby-chat-form" class="chat-form chat-drawer-form">
                <input type="text" id="lobby-chat-input" placeholder="Say something..." autocomplete="off" required>
                <button type="submit">Send</button>
            </form>
        </div>
    </div>
    <div id="room-chat-drawer" class="chat-drawer hidden">
        <div id="room-chat-drawer-content" class="chat-drawer-content">
            <div id="room-chat-tab" class="chat-drawer-tab">
                <span class="chat-icon">üí¨</span>
                <span>Room Chat</span>
            </div>
            <div class="chat-drawer-header">
                <h3>Room Chat</h3>
            </div>
            <div id="room-chat-list" class="chat-list chat-drawer-list"></div>
            <form id="room-chat-form" class="chat-form chat-drawer-form">
                <input type="text" id="room-chat-input" placeholder="Say something..." autocomplete="off" required>
                <button type="submit">Send</button>
            </form>
        </div>
    </div>
    <div id="profile-container" class="view">
        <div class="container">
            <h1>Profile</h1>
            <div class="profile-card">
                <div class="profile-avatar-section">
                    <div id="profile-avatar-display" class="profile-avatar-display">üë§</div>
                    <label class="avatar-edit-label">Choose Avatar</label>
                    <div class="avatar-options-grid" id="avatar-options-grid">
                        <button type="button" class="avatar-option" data-avatar="üòÄ">üòÄ</button>
                        <button type="button" class="avatar-option" data-avatar="üòÉ">üòÉ</button>
                        <button type="button" class="avatar-option" data-avatar="üòÑ">üòÑ</button>
                        <button type="button" class="avatar-option" data-avatar="üòÅ">üòÅ</button>
                        <button type="button" class="avatar-option" data-avatar="üòÜ">üòÜ</button>
                        <button type="button" class="avatar-option" data-avatar="üòä">üòä</button>
                        <button type="button" class="avatar-option" data-avatar="üòé">üòé</button>
                        <button type="button" class="avatar-option" data-avatar="ü§ì">ü§ì</button>
                        <button type="button" class="avatar-option" data-avatar="üßê">üßê</button>
                        <button type="button" class="avatar-option" data-avatar="üòá">üòá</button>
                        <button type="button" class="avatar-option" data-avatar="ü§ó">ü§ó</button>
                        <button type="button" class="avatar-option" data-avatar="ü§î">ü§î</button>
                    </div>
                    <button id="update-avatar-btn" class="update-btn">Update Avatar</button>
                </div>
                <div id="profile-message" class="profile-message"></div>
                <div class="profile-badges-section">
                    <h2 style="color: var(--text-dark); font-size: 1.5rem; font-weight: 600; margin-top: 1rem; margin-bottom: 1rem;">Badges</h2>
                    <div style="display: flex; gap: 1rem; margin-bottom: 2rem;">
                        <button id="view-earned-badges-btn" class="view-badges-btn">Your Badges</button>
                        <button id="view-available-badges-btn" class="view-badges-btn">Available Badges</button>
                    </div>
                </div>
                <div class="profile-actions-section">
                    <button id="change-password-btn" class="change-password-btn">Change Password</button>
                    <button id="delete-account-btn" class="delete-account-btn">Delete Account</button>
                </div>
                <form id="profile-password-form" class="profile-form hidden" style="display: none;">
                    <label for="profile-current-password">Current Password</label>
                    <div class="password-input-wrapper">
                        <input type="password" id="profile-current-password" name="currentPassword" placeholder="Enter current password" required>
                        <button type="button" class="show-password-btn" aria-label="Show password" tabindex="-1">
                            <svg class="show-password-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                        </button>
                    </div>
                    <label for="profile-new-password" class="label-with-info">
                        New Password
                        <span class="info-icon" id="profile-password-info-icon" tabindex="0" aria-label="Password requirements">
                            <span class="info-icon-text">?</span>
                            <div class="info-tooltip" id="profile-password-requirements-tooltip">
                                <div class="tooltip-content">
                                    <strong>Password Requirements:</strong>
                                    <ul>
                                        <li>At least 8 characters long</li>
                                        <li>Contains at least one letter (a-z, A-Z)</li>
                                        <li>Contains at least one number (0-9)</li>
                                        <li>No special characters (! @ # $ % ^ & * ( ) , . ' " ? /)</li>
                                    </ul>
                                </div>
                            </div>
                        </span>
                    </label>
                    <div class="password-input-wrapper">
                        <input type="password" id="profile-new-password" name="newPassword" placeholder="Enter new password" required>
                        <button type="button" class="show-password-btn" aria-label="Show password" tabindex="-1">
                            <svg class="show-password-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                        </button>
                    </div>
                    <div id="profile-new-password-error" class="password-error"></div>
                    <label for="profile-confirm-password">Confirm New Password</label>
                    <div class="password-input-wrapper">
                        <input type="password" id="profile-confirm-password" name="confirmPassword" placeholder="Re-enter new password" required>
                        <button type="button" class="show-password-btn" aria-label="Show password" tabindex="-1">
                            <svg class="show-password-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                        </button>
                    </div>
                    <div id="profile-confirm-password-error" class="password-error"></div>
                    <button type="submit" class="update-btn">Change Password</button>
                </form>
            </div>
        </div>
    </div>
    <div id="user-profile-container" class="view">
        <div class="container">
            <div id="user-profile-avatar" class="user-profile-avatar">üë§</div>
            <h1 id="user-profile-username">Username</h1>
            <p id="user-profile-role">Role</p>
            <div class="profile-badges-section" style="margin-top: 1.5rem;">
                <button id="view-user-badges-btn" class="view-badges-btn">View Badges</button>
            </div>
        </div>
    </div>
    <button id="user-profile-report-btn" class="user-profile-report-btn">Report user</button>
    <div id="leave-room-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2>Leave Game</h2>
            <p class="modal-warning">‚ö†Ô∏è Warning: You will lose the game!</p>
            <p>Are you sure you want to leave this game?</p>
            <p id="leave-room-message"></p>
            <div class="modal-actions">
                <button id="confirm-leave-btn" class="confirm-delete-btn">Yes, Leave Game</button>
                <button id="cancel-leave-btn" class="cancel-delete-btn">Cancel</button>
            </div>
        </div>
    </div>
    <div id="navigation-warning-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2>You are in a game</h2>
            <p>If you want to quit, press the "Leave Game" button.</p>
            <div class="modal-actions">
                <button id="close-nav-warning-btn" class="cancel-delete-btn">Okay</button>
            </div>
        </div>
    </div>
    <div id="report-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2>Report User</h2>
            <p id="report-target-label">Reporting: <span id="report-target-name"></span></p>
            <label for="report-reason-select">Reason</label>
            <select id="report-reason-select">
                <option value="cheating">Cheating</option>
                <option value="abuse">Abuse</option>
                <option value="spam">Spam</option>
                <option value="bug">Bug</option>
            </select>
            <label for="report-message-input">Details (optional)</label>
            <textarea id="report-message-input" rows="3" placeholder="Describe what happened..."></textarea>
            <div class="modal-actions">
                <button id="report-submit-btn" class="modal-btn">Submit</button>
                <button id="report-cancel-btn" class="modal-btn cancel-btn">Cancel</button>
            </div>
        </div>
    </div>
    <div id="delete-account-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2>Delete Account</h2>
            <p class="modal-warning">‚ö†Ô∏è Warning: This action cannot be undone!</p>
            <p>Are you sure you want to delete your account? All your data, including:</p>
            <ul class="modal-list">
                <li>Your profile information</li>
                <li>Your game statistics</li>
                <li>Your account credentials</li>
            </ul>
            <p class="modal-confirm-text">will be permanently deleted.</p>
            <div class="modal-actions">
                <button id="confirm-delete-btn" class="confirm-delete-btn">Yes, Delete My Account</button>
                <button id="cancel-delete-btn" class="cancel-delete-btn">Cancel</button>
            </div>
        </div>
    </div>
    <div id="change-password-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2>Change Password</h2>
            <form id="modal-password-form" class="profile-form">
                <label for="modal-current-password">Current Password</label>
                <div class="password-input-wrapper">
                    <input type="password" id="modal-current-password" name="currentPassword" placeholder="Enter current password" required>
                    <button type="button" class="show-password-btn" aria-label="Show password" tabindex="-1">
                        <svg class="show-password-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                    </button>
                </div>
                <div id="modal-current-password-error" class="password-error"></div>
                <label for="modal-new-password" class="label-with-info">
                    New Password
                    <span class="info-icon" id="modal-password-info-icon" tabindex="0" aria-label="Password requirements">
                        <span class="info-icon-text">?</span>
                        <div class="info-tooltip" id="modal-password-requirements-tooltip">
                            <div class="tooltip-content">
                                <strong>Password Requirements:</strong>
                                <ul>
                                    <li>At least 8 characters long</li>
                                    <li>Contains at least one letter (a-z, A-Z)</li>
                                    <li>Contains at least one number (0-9)</li>
                                    <li>No special characters (! @ # $ % ^ & * ( ) , . ' " ? /)</li>
                                </ul>
                            </div>
                        </div>
                    </span>
                </label>
                <div class="password-input-wrapper">
                    <input type="password" id="modal-new-password" name="newPassword" placeholder="Enter new password" required>
                    <button type="button" class="show-password-btn" aria-label="Show password" tabindex="-1">
                        <svg class="show-password-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                    </button>
                </div>
                <div id="modal-new-password-error" class="password-error"></div>
                <label for="modal-confirm-password">Confirm New Password</label>
                <div class="password-input-wrapper">
                    <input type="password" id="modal-confirm-password" name="confirmPassword" placeholder="Re-enter new password" required>
                    <button type="button" class="show-password-btn" aria-label="Show password" tabindex="-1">
                        <svg class="show-password-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                    </button>
                </div>
                <div id="modal-confirm-password-error" class="password-error"></div>
                <div class="modal-actions">
                    <button type="submit" class="update-btn">Change Password</button>
                    <button type="button" id="cancel-password-btn" class="cancel-delete-btn">Cancel</button>
                </div>
            </form>
        </div>
    </div>
    <div id="earned-badges-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2>Your Badges</h2>
            <div id="modal-earned-badges" class="badges-grid" style="max-height: 60vh; overflow-y: auto; padding: 1rem 0;"></div>
            <div class="modal-actions">
                <button id="close-earned-badges-btn" class="cancel-delete-btn">Close</button>
            </div>
        </div>
    </div>
    <div id="available-badges-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2>Available Badges</h2>
            <div id="modal-available-badges" class="badges-grid" style="max-height: 60vh; overflow-y: auto; padding: 1rem 0;"></div>
            <div class="modal-actions">
                <button id="close-available-badges-btn" class="cancel-delete-btn">Close</button>
            </div>
        </div>
    </div>
    <div id="user-profile-badges-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2 id="user-profile-badges-modal-title">Badges</h2>
            <div id="user-profile-badges-modal-content" class="badges-grid" style="max-height: 60vh; overflow-y: auto; padding: 1rem 0;"></div>
            <div class="modal-actions">
                <button id="close-user-profile-badges-btn" class="cancel-delete-btn">Close</button>
            </div>
        </div>
    </div>
    <div id="notification-modal" class="notification-modal hidden">
        <div class="notification-overlay"></div>
        <div class="notification-card">
            <div class="notification-content">
                <div id="notification-message"></div>
            </div>
            <div class="notification-actions">
                <button id="notification-ok-btn" class="notification-btn">Okay</button>
            </div>
        </div>
    </div>
    <div id="invitation-modal" class="notification-modal hidden">
        <div class="notification-overlay"></div>
        <div class="notification-card">
            <div class="notification-content">
                <div id="invitation-message"></div>
            </div>
            <div class="notification-actions">
                <button id="invitation-accept-btn" class="notification-btn" style="background: linear-gradient(135deg, #10b981, #059669);">Accept</button>
                <button id="invitation-decline-btn" class="notification-btn" style="background: linear-gradient(135deg, #ef4444, #dc2626);">Decline</button>
            </div>
        </div>
    </div>
    <div id="waiting-invitation-modal" class="notification-modal hidden">
        <div class="notification-overlay"></div>
        <div class="notification-card">
            <div class="notification-content">
                <div id="waiting-invitation-message"></div>
            </div>
            <div class="notification-actions">
                <button id="cancel-invitation-btn" class="notification-btn" style="background: linear-gradient(135deg, #ef4444, #dc2626);">Cancel Invitation</button>
            </div>
        </div>
    </div>
    <div id="game-end-modal" class="game-end-modal hidden">
        <div class="game-end-overlay"></div>
        <div class="game-end-card">
            <div class="game-end-content">
                <h2 id="game-end-title" class="game-end-title"></h2>
                <p id="game-end-message" class="game-end-message"></p>
                <div class="game-end-actions">
                    <button id="game-end-rematch-btn" class="game-end-rematch-btn">Rematch</button>
                </div>
                <div id="game-end-rematch-status" class="game-end-rematch-status hidden"></div>
            </div>
        </div>
    </div>
    <div id="invite-game-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2>Invite Player</h2>
            <p>Select a game type to invite <span id="invite-player-name"></span> to play:</p>
            <div class="game-type-selector">
                <label class="game-type-option">
                    <input type="radio" name="invite-game-type" value="three-mens-morris" checked>
                    <span>‚ö´ Three Men's Morris</span>
                </label>
                <label class="game-type-option">
                    <input type="radio" name="invite-game-type" value="battleship">
                    <span>üö¢ Battleship</span>
                </label>
                <label class="game-type-option">
                    <input type="radio" name="invite-game-type" value="memory-match">
                    <span>üß© Memory Match</span>
                </label>
            </div>
            <div class="modal-actions">
                <button id="invite-confirm-btn" class="modal-btn">Send Invitation</button>
                <button id="invite-cancel-btn" class="modal-btn cancel-btn">Cancel</button>
            </div>
        </div>
    </div>
    <div id="tournaments-container" class="view">
        <div class="container">
            <h1>Tournaments</h1>
            <p>Tournaments feature coming soon!</p>
            <button id="tournaments-back-btn" class="back-btn">Back to Lobby</button>
        </div>
    </div>
    <script src="/socket.io/socket.io.js"></script>
    <script src="/js/init-fallback.js"></script>
    <script src="/js/ui/ModalManager.js"></script>
    <script src="/js/managers/NotificationManager.js"></script>
    <script src="/js/ui/ChatRenderer.js"></script>
    <script src="/js/ui/LobbyRenderer.js"></script>
    <script src="/js/ui/ScoreboardManager.js"></script>
    <script src="/js/utils/AvatarManager.js"></script>
    <script src="/js/utils/WarningManager.js"></script>
    <script src="/js/managers/socket/LobbySocketHandler.js"></script>
    <script src="/js/managers/socket/RoomSocketHandler.js"></script>
    <script src="/js/managers/socket/game/GameStateHandler.js"></script>
    <script src="/js/managers/socket/game/RematchHandler.js"></script>
    <script src="/js/managers/socket/game/GameLifecycleHandler.js"></script>
    <script src="/js/managers/socket/GameSocketHandler.js"></script>
    <script src="/js/managers/socket/BattleshipSocketHandler.js"></script>
    <script src="/js/managers/socket/MemorySocketHandler.js"></script>
    <script src="/js/managers/socket/TMMSocketHandler.js"></script>
    <script src="/js/managers/socket/InvitationSocketHandler.js"></script>
    <script src="/js/managers/socket/ScoreboardSocketHandler.js"></script>
    <script src="/js/managers/auth/PasswordValidator.js"></script>
    <script src="/js/managers/auth/LoginHandler.js"></script>
    <script src="/js/managers/auth/RegisterHandler.js"></script>
    <script src="/js/managers/auth/ProfileManager.js"></script>
    <script src="/js/managers/DOMManager.js"></script>
    <script src="/js/managers/AppInitializer.js"></script>
    <script src="/js/managers/AuthManager.js"></script>
    <script src="/js/managers/ViewManager.js"></script>
    <script src="/js/managers/RoomManager.js"></script>
    <script src="/js/managers/SocketManager.js"></script>
    <script src="/js/managers/NavigationManager.js"></script>
    <script src="/js/managers/GameStateManager.js"></script>
    <script src="/js/managers/BattleshipManager.js"></script>
    <script src="/js/managers/InvitationManager.js"></script>
    <script src="/js/managers/ReportManager.js"></script>
    <script src="/js/managers/UserProfileManager.js"></script>
    <script src="/js/games/battleship/ShipPlacementPhase.js"></script>
    <script src="/js/games/battleship/BattlePhase.js"></script>
    <script src="/js/games/battleship/BattleshipRenderer.js"></script>
    <script src="/js/games/battleship/BattleshipGame.js"></script>
    <script src="/js/games/tmm/TMMGame.js"></script>
    <script src="/js/games/memory/MemoryGame.js"></script>
    <script src="/js/app.js"></script>
</body>
</html>